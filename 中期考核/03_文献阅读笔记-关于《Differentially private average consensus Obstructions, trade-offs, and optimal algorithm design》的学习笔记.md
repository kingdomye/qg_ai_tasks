# Differentially private average consensus Obstructions, trade-offs, and optimal algorithm design

> 作者：Erfan Nozari$^{a}$、Pavankumar Tallapragada$^{b}$、Jorge Cortés$^{a}$
> 机构：
>
> $^{a}$Department of Mechanical and Aerospace Engineering, University of California,
>
> $^{b}$San Diego、Department of Electrical Engineering, Indian Institute of Science

## 研究问题 Research Question

### 科学问题 Science Question

针对可以访问系统所有信息的攻击者，本文设计了一种满足差分隐私要求的算法，使得系统内的各智能体几乎可以收敛到初始值的平均值的无偏估计（或者说最后的期望值的平均值与初始值平均值相同），并且讨论了参数的权衡与最优选择。

### 研究核心 Core of the research

- 分析算法最终的收敛状态（不可能达到初始状态的平均值）；

- 权衡网络的隐私性与准确性；
- 最佳噪声参数选择。

### 研究意义 Research significance

- 适用于网络系统，在保护隐私的同时，对系统的整体输出不会有明显的影响；即对隐私和准确性做到了权衡；
- 用于未来设计用于保护网络结构以及参数的算法。

### 现有方法的不足 Shortcomings of existing algorithm

- 首先是文章反复在强调的：无法完全权衡差分隐私与精确收敛；
- Huang等人提出的算法收敛点的期望值取决于网络结构；本文涉及的算法具有几乎必然收敛性，且收敛速度有明确的表明；
- 没有考虑动态平均共识，这同时也是作者的未来研究工作方向。

### 结论 Conclusion

- 证明了系统不能最终准确的收敛到初始状态的平均值；
- 而最终收敛状态的期望值是初始状态平均值的无偏估计；
- 分析了算法的收敛性以及准确性。

---

## 理论与方法 Theory and Method

| 理论                                                         | 方法                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 任何满足差分隐私共识的算法都无法保证最终收敛到初始状态的精确平均值 | 利用差分隐私的定义，发现其与收敛性矛盾                       |
| 收敛性分析                                                   | 利用系统动态方程(论文中式12~14)进行收敛性证明                |
| 最优噪声参数选择                                             | 在固定差分隐私参数的条件下，最小化收敛点的方差值，最后证明s=1时达到下界，并且和网络拓扑结构无关 |

### 重要方程整理归纳

文章的公式参数很多，相关联的公式也很多，笔者把相关的重要公式都总结到一起

【1】文章的讨论根基——系统动态方程
$$
\theta(k+1)=\theta(k)-hLx(k)+S\eta(k)\\x(k)=\theta(k)+\eta(k)\\\eta_i(k) \sim Lap(b_i(k))\\b_i(k)=c_iq_i^k
$$
方程解释：

| 式子元素    | 释义                                             |
| ----------- | ------------------------------------------------ |
| $\theta(k)$ | 智能体在k次模拟以后的状态                        |
| $x(k)$      | 智能体在k次模拟时传递的信息                      |
| $\eta(k)$   | 在第k次模拟生成的噪声参数                        |
| $Lap(x)$    | 拉普拉斯分布，默认第一个位置参数为0，尺度参数为x |

【2】渐进收敛性——重要命题，后面很多命题都建立在这个假设之上

总结概述一下这个命题即是：
$$
所有智能体的状态几乎必然收敛到\theta_{\infty}=Ave(\theta_{0})+\sum_{i=1}^{n}\frac{s_i}{n}\sum_{j=0}^{\infty}\eta_i(j)
$$
【3】差分隐私概念引入——关联参数：$\epsilon、q、c、s、\delta$
$$
\epsilon_i=\delta \frac{q_i}{c_i(q_i-\left | s_i-1 \right | )}
$$
这里的$c_i、\epsilon_i$可以互换位置，用于后面实验中对于参数$c$的计算

【4】收敛状态的方差计算公式
$$
var\{\theta _\infty\}=\frac{2}{n^2}\sum_{i=1}^{n}\frac{s_i^2c_i^2}{1-q_i^2}
$$

------

## 实验 Experiment

针对论文，笔者做了三个论文相关实验，分别对应模拟实验的fig1、fig3、fig4

| 实验             | 相关内容及结论                                               |
| ---------------- | ------------------------------------------------------------ |
| 实验一，对应fig1 | 收敛点在系统状态平均值处附近的方差的成本函数的等价函数；或者如论文介绍，每个智能体的局部目标函数；<br />根据图像可以很直观的发现，当$\alpha \to 0,s=1$时，函数逼近其下界，也就是这时损失最小，符合文章的推论。 |
| 实验二，对应fig3 | 根据系统的状态方程（对应方程12～14），绘制收敛点的经验方差和收敛时间；<br />两个图像表明，当$s=1$时，经验方差最小，并且此时收敛最快；<br />【实际意义】s对应噪声缩放参数，因为根据实验公式$S=s·I_n$，而$S$在系统状态方程中与与噪声参数相乘 |
| 实验三，对应fig4 | 根据系统的状态方程（对应方程12～14），探究隐私和准确性之间的权衡关系； |

---

## 总结与思考 Summary and Reflections

### 论文相关内容总结

1. **证明了一个命题**：智能体状态收敛到初始状态的平均值和差分隐私要求不能同时满足；但是算法得到最终的收敛值的平均值是初始状态平均值的无偏估计，并且方差最小；
2. 根据准确性、差分隐私定义，**权衡参数的选择**，使其满足文章的目标——满足差分隐私要求，并且最后收敛期望值等于初始状态平均值。

### 关于初学者的思考

1. 笔者认为这是初学者在能力受限的情况下首次阅读论文最重要的一小节，论文的研究内容可能对初学者知识方面起不到重要帮助，但是对于初学者在能力突破、对未来论文探索上有很大的帮助！
2. 【障碍一——翻译问题】第一次阅读论文遇到的障碍就是**语言障碍以及翻译不准确的障碍**，对于部分专业名词以及数学公式，仍需要根据翻译版并且**对照原文**（部分翻译甚至修改了公式的角标！这是一个很严重的问题），这样才能保证公式的准确性；部分翻译不连贯，专业名词翻译偏差，这也需要**对照原文**，才能够连贯的理解全文；
3. 【障碍二——难以理解的专业名词】专业名词的不理解，学习者能力受限的情况如何获取文章的重要思想，实现文章内容的部分复现；笔者认为首先可以阅读论文的**Abstract和Conclusion部分**，这是论文的最终要实现的目标以及文章最后讨论的结果；还有**文章反复出现的命题和结论**，以本篇为例，状态方程12～14就是这篇文章讨论的基石，那么类似于这样的命题就要重点关注了
4. 【障碍三——无从下手的公式推导】还有文章大篇幅的理论证明，这对于首次阅读的笔者是一个极大挑战！但是部分公式我们可以对其进行简化，简化后分析其逻辑过程，比如一个大串的公式我们可以把它改写成一个具有很多参数函数$f(a,b,c...)$，这样就省去了很多复杂的数学计算符号，而且还能知道背后推理的大致逻辑，类似于上一点，中间部分重要的过程，作者都会有标记，这些重要过程可以慢慢理解，**初学者可以更多的侧重于结论的运用！**
5. 【障碍四——繁杂的公式】在论文结尾，笔者在编写图形复现的代码时，发现有很多参数，有印象但是不知道其具体出处，导致编写代码的时候发懵；解决方案：**归纳整理重要的公式**，如上文，罗列出了一些反复使用的公式还有各种参数的出处，这样在遇到某些参数的时候就可以在代码中很好的定义了！
6. 在进行模拟实验之后，重新对各种参数有了自己的认知，现在回头看论文，就对论文大体思路有所了解（虽然还是对其中部分的推导过程不够了解）
